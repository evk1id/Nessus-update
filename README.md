# Описание
Данный плейбук предоставляет автоматизированное решение для обновления сканеров Nessus с использованием Ansible.  
Ansible-плейбук deploy-nessus.yml предназначен для:  
- автоматическая установка обновления сканера Nessus;
- развертывание на одном иди нескольких целевых серверах;  

# Файл inventory.ini  
Файл inventory.ini - это файл, который содержит информацию о хостах (серверах), с которыми Ansible будет взаимодействовать.  

#### Структура файла  
**[local]** - секция, в которой описано использование Ansible на локальной машине (на которой развернут Ansible)  
**[local:vars]** - параметры для запуска плейбука  
**[nessus_scanner]** - секция, в которой вносятся IP-адреса хостов, на которых нужно развернуть сканер Nessus  
**[nessus_scanner:vars]** - параметры для подключения к удаленному хосту (пользователь на удаленном хосте, закрытый ключ ssh)  
  
# Запуск  
Для запуска плейбука Ansible (на всех хостах из группу nessus_scanner) необходимо выполнить следующую команду:  
```
ansible-playbook -i inventory.ini deploy-nessus.yml --ask-become-pass
```   
Если данный плейбук нужно запустить только на локальном хосте, то необходимо выполнить следующую команду:  
```
ansible-playbook -i inventory.ini  deploy-nessus.yml -e "target=localhost" --ask-become-pass
```  

# Параметры  
**--ask-become-pass** (или -K) - запрашивает пароль для повышения привилегий (sudo)  
**-e "target=localhost"** - выполненяется только на локальном хосте   

# Tips and tricks  
Поскольку хосты и версия ПО могут отличиться от текущей версии, указанной в проекте, распишу что и где нужно менять в дальнейшем:  
1. В файле **inventory.ini** нужно изменить **ansible_user** (пользователь на удаленном хосте) и **ansible_ssh_private_key_file** (ключ для подключения по ssh), а также добавить и/или исключить IP-адреса хостов, на которых необходимо провести работы.  
2. Вносить изменения лучше только в файле **roles/nessus/vars/main.yml** Далее по тексту представлено описание.
